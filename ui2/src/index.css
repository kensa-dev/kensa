@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --radius: 0.5rem;

    --success: 160 84% 39%;
    --failure: 346 77% 50%;
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;

    --success: 160 84% 45%;
    --failure: 346 77% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
    }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .text-success { color: hsl(var(--success)); }
  .text-failure { color: hsl(var(--failure)); }

  .bg-success-2  { background-color: hsl(var(--success) / 0.02); }
  .bg-success-5  { background-color: hsl(var(--success) / 0.05); }
  .bg-success-8  { background-color: hsl(var(--success) / 0.08); }
  .bg-success-10 { background-color: hsl(var(--success) / 0.10); }
  .bg-success-15 { background-color: hsl(var(--success) / 0.15); }

  .bg-failure-2  { background-color: hsl(var(--failure) / 0.02); }
  .bg-failure-5  { background-color: hsl(var(--failure) / 0.05); }
  .bg-failure-8  { background-color: hsl(var(--failure) / 0.08); }
  .bg-failure-10 { background-color: hsl(var(--failure) / 0.10); }
  .bg-failure-15 { background-color: hsl(var(--failure) / 0.15); }

  .border-success-20 { border-color: hsl(var(--success) / 0.20); }
  .border-success-30 { border-color: hsl(var(--success) / 0.30); }

  .border-failure-20 { border-color: hsl(var(--failure) / 0.20); }
  .border-failure-30 { border-color: hsl(var(--failure) / 0.30); }
}

.hljs {
  display: block;
  overflow-x: auto;
  padding: 1em;
  color: hsl(var(--foreground));
  background: transparent;
}

/* Base Light Mode (GitHub Light inspired) */
.hljs-comment, .hljs-quote { color: #6a737d; font-style: italic; }
.hljs-keyword, .hljs-selector-tag { color: #d73a49; font-weight: 600; }
.hljs-string, .hljs-type, .hljs-addition { color: #032f62; }
.hljs-title, .hljs-section { color: #6f42c1; }
.hljs-variable, .hljs-template-variable { color: #e36209; }
.hljs-attr, .hljs-attribute { color: #005cc5; }
.hljs-number, .hljs-literal { color: #005cc5; }

/* XML/HTML-specific tokens */
.hljs-tag, .hljs-name { color: #22863a; }
.hljs-meta, .hljs-doctype { color: #6f42c1; }
.hljs-punctuation { color: #586069; }

/* Dark Mode Overrides (GitHub Dark inspired) */
.dark .hljs-comment, .dark .hljs-quote { color: #8b949e; }
.dark .hljs-keyword, .dark .hljs-selector-tag { color: #ff7b72; }
.dark .hljs-string, .dark .hljs-type, .dark .hljs-addition { color: #a5d6ff; }
.dark .hljs-title, .dark .hljs-section { color: #d2a8ff; }
.dark .hljs-variable, .dark .hljs-template-variable { color: #ffa657; }
.dark .hljs-attr, .dark .hljs-attribute { color: #79c0ff; }
.dark .hljs-number, .dark .hljs-literal { color: #79c0ff; }

/* XML/HTML-specific tokens (dark) */
.dark .hljs-tag, .dark .hljs-name { color: #7ee787; }
.dark .hljs-meta, .dark .hljs-doctype { color: #d2a8ff; }
.dark .hljs-punctuation { color: #8b949e; }

/* Search Highlighting */
.search-highlight {
  background-color: #fde047;
  color: #000;
  border-radius: 2px;
}

.dark .search-highlight {
  background-color: #ca8a04;
  color: #fff;
}

.search-highlight-active {
  background-color: #ea580c !important;
  color: #fff !important;
  box-shadow: 0 0 0 2px #f97316, 0 0 15px rgba(249, 115, 22, 0.5);
}